name: Gracidea
author: lowlighter
repository: https://github.com/lowlighter/gracidea
scripts:

  start:
    desc: Run app
    cmd: deno run --unstable --allow-net --allow-read server/app.ts

  build:
    desc: Build app
    cmd:
      #- npm install -g free-tex-packer-cli
      #- deno run --allow-all build/mod.ts
      - deno bundle client/app/mod.ts client/static/js/app.js

  lint:
    desc:
    cmd: deno lint --unstable --ignore=node_modules,client/static/js/app.js

  test:
    desc: Run tests and compute coverage
    cmd:
      - deno test --unstable --allow-read tests
      - deployctl check deploy/mod.ts
